<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div id="cc-ctn">
    <style>    
    html{
      height: 2000px;
    }

    #cc-ctn {
      height: 55px !important;
      margin: 0px auto 16px;
      position: sticky;
      top: 0;
      z-index: 9999;
    }
    
    @media only screen and (max-width: 767px) {
      #cc-ctn {
        height: 75px !important;
      }
    }
    
    .tww-sale-ctn {
      width: 100% !important;
      max-width: 100% !important;
      min-width: 0px !important;
      left: 0;
      right: 0;
      position: absolute !important;
      background: #000000;
      border-width: 1px;
      border-style: solid;
      border-color: #000000;
      padding: 15px 0px;
      text-align: center;
    }
    
    .tww-sale-cpy {
      color: #ffffff !important;
      font-family: "Open Sans";
      font-size: 14px;
      font-weight: 500;
      line-height: 21px;
      text-align: center;
      letter-spacing: 0.5px;
      padding: 0px 8px;
    }
    
    .tww-sale-line {
      display: inline-block;
      margin: 0px 10px
    }
    
    .tww-sale-brk {
      display: none;
    }
    
    #clock {
      display: inline-block;
      margin-left: 10px;
    }
    
    .nalink {
      text-decoration: none !important;
      background-color: none !important;
      padding: 0px !important;
    }
    
    #cc-CTA {
      text-decoration: underline !important;
      font-size: 12px !important;
    }
    
    #cc-mb {
      display: none;
    }
    
    #cc-d {
      display: block;
    }
    
    @media only screen and (max-width: 767px) {
      body{
        margin: 0;
      }
      #mb-marg {
        margin-bottom: 20px;
      }
      #cc-d {
        display: none;
      }
      #cc-mb {
        display: block;
      }
    }</style>
    <div class="tww-sale-ctn">
       <div class="tww-sale-cpy">Forget Black Friday – it's all about The White Weekend! 20% off everything with code: JOY20</div>
    </div>
 </div>
<style>@import url('https://fonts.googleapis.com/css?family=Open+Sans:100,200,300,300i,400,400i,600,700,700i&display=swap');
  .main {
    display: block;
    position: relative;
    margin: 0 auto;
    padding: 32px 16px;
    width: 100%;
    max-width: 1312px;
  }
  
  .grid {
    display: flex;
    position: relative;
    flex-wrap: wrap;
    flex: 1;
    align-items: center;
    justify-content: center;
  }
  
  .scent-finder-banner {
    width: 1104px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: row;
    margin-bottom: 40px;
    position: relative;
  }
  
  .scent-banner-image {
    width: 100%;
    height: auto;
    transition: width .3s linear;
  }
  
  .scent-banner-wrapper {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
  }
  
  .scent-banner-heading {
    font-family: 'Times New Roman', Times, serif;
    font-style: italic;
    font-weight: normal;
    font-size: 36px;
    letter-spacing: 1px;
    text-transform: none;
  }
  
  .scent-banner-text {
    font-family: 'Open Sans', helvetica, arial, sans-serif;
    font-weight: 400;
    font-style: normal;
    font-size: 14px;
    letter-spacing: 1px;
    padding-top: 8px;
  }
  
  .slider-wrapper {
    position: relative;
    width: 95vw;
    max-width: 1104px;
    height: 100%;
    margin: auto;
  }
  
  .slider-container {
    width: 100%;
    height: auto;
    border: 1px solid #999999;
    position: relative;
    padding: 8px;
  }
  
  .slide {
    width: 100%;
    height: auto;
    min-height: 250px;
    opacity: 1;
    -webkit-transition: all .8s ease 0.2s;
    -o-transition: all .8s ease 0.2s;
    transition: all .8s ease 0.2s;
  }
  
  .hide {
    opacity: 0;
    -webkit-transition: all .8s ease 0.2s;
    -o-transition: all .8s ease 0.2s;
    transition: all .8s ease 0.2s;
    display: none;
  }
  
  .question {
    font-family: 'Times New Roman', Times, serif;
    font-style: italic;
    font-weight: normal;
    font-size: 24px;
    line-height: 20px;
    letter-spacing: 1px;
    text-align: center;
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translate(-50%, 0);
    margin: 0;
    padding: 0 24px;
    background: #fff;
    z-index: 3;
  }
  
  .info-box {
    visibility: hidden;
    width: 100%;
    height: 40px;
    background-color: #F8F8F8;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  
  .info-icon {
    width: 24px;
    height: 22px;
  }
  
  .error {
    font-family: 'Open Sans', helvetica, arial, sans-serif;
    font-weight: 300;
    font-style: normal;
    font-size: 13px;
    margin: auto 8px;
    color: #CC1F26;
  }
  
  .slide-content {
    width: 100%;
    height: 71%;
    margin: auto;
    display: flex;
    justify-content: center;
    flex-flow: row wrap;
    align-items: center;
  }
  
  .quiz-option {
    position: relative;
    text-align: center;
    margin: 12px 12px;
  }
  
  .align-content .quiz-option {
    flex: 45%;
    align-self: flex-end;
    text-align: left;
  }
  
  .align-content .quiz-option:nth-child(2n+1) {
    text-align: right;
  }
  
  .align-content .quiz-option:nth-child(2n+1) .question-label {
    right: 6px;
    left: auto;
  }
  
  .question-label {
    color: #000000;
    font-family: 'Open Sans', helvetica, arial, sans-serif;
    font-weight: 600;
    font-style: normal;
    font-size: 13px;
    letter-spacing: 2px;
    background-color: rgba(255, 255, 255, 0.9);
    text-transform: uppercase;
    width: 248px;
    height: 32px;
    padding: 5px 0;
    text-align: center;
    position: absolute;
    left: 6px;
    top: 131px;
    display: block;
    cursor: pointer;
  }
  
  .slider-image {
    max-width: 260px;
    max-height: 172px;
    width: auto;
    height: auto;
    border: 3px solid #fff;
    cursor: pointer;
  }
  
  .selected {
    border-color: #000000;
  }
  
  .description {
    width: 260px;
    font-family: 'Open Sans', helvetica, arial, sans-serif;
    font-weight: normal;
    font-style: italic;
    line-height: 18px;
    font-size: 12px;
    letter-spacing: 0.5px;
    color: #666666;
    text-align: left;
    hyphens: auto;
    display: block;
    border: 3px solid #fff;
  }
  
  .prev {
    position: absolute;
    margin: auto 0;
    top: 0;
    bottom: 0;
    left: 0;
    width: 35px;
    height: 70px;
    background-color: #000000;
    border-bottom-right-radius: 34px;
    border-top-right-radius: 34px;
    box-sizing: border-box;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    border: 1px solid #000000;
    z-index: 1;
  }
  
  .prev span {
    position: absolute;
    top: 36%;
    left: 45px;
    font-family: 'Times New Roman', Times, serif;
    font-style: italic;
    font-weight: normal;
    font-size: 18px;
    line-height: 20px;
  }
  
  .move-left {
    position: absolute;
    top: 32%;
    left: 3px;
    color: #fff;
    stroke: #fff;
    fill: #fff;
  }
  
  .next {
    position: absolute;
    margin: auto 0;
    top: 0;
    bottom: 0;
    right: 0;
    width: 35px;
    height: 70px;
    background-color: #000000;
    border-top-left-radius: 34px;
    border-bottom-left-radius: 34px;
    box-sizing: border-box;
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    border: 1px solid #000000;
    z-index: 1;
  }
  
  .next span {
    position: absolute;
    top: 36%;
    right: 45px;
    font-family: 'Times New Roman', Times, serif;
    font-style: italic;
    font-weight: normal;
    font-size: 18px;
    line-height: 20px;
  }
  
  .next:hover,
  .prev:hover {
    cursor: pointer;
  }
  
  .prev:disabled,
  .next-disabled {
    background-color: #666666;
    border-color: #666666;
    color: #666666;
    cursor: auto;
  }
  
  .move-right {
    position: absolute;
    top: 32%;
    right: 3px;
    color: #fff;
    stroke: #fff;
    fill: #fff;
  }
  
  #progress-bar-container {
    margin-top: 40px;
    width: 1104px;
    height: 8px;
    background-color: #CCCCCC;
    border-radius: 6px;
    display: flex;
  }
  
  #progress-bar {
    background: #000000;
    border-radius: 20px;
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: auto 0;
    height: 100%;
    width: 10%;
    opacity: 1;
    transition: 0.8s ease 0.2s;
  }
  
  @media screen and (max-width: 320px){
    .quiz-option{
      margin: 12px auto!important;;
    }
    .question-label{
      left: 5px;
      top: 107px;
      width: 210px;
    }
    .slider-image{
      max-width: 220px;
    }
    .scent-banner-text{
      font-size: 13px!important;
    }
  }

  @media screen and (max-width: 480px) {
    .main {
      padding: 0;
    }
    .main-section {
      padding: 0 16px;
    }
    .grid {
      display: block;
      flex: none;
    }
    .slider-wrapper {
      width: 100%;
      height: auto;
      left: 0;
    }
    .slide-content {
      flex-direction: column;
      transition: all 0.8s ease 0.2s;
    }
    .scent-banner-wrapper {
      width: 100%;
      margin-right: auto;
      margin-left: auto;
      text-align: center;
    }
    .scent-finder-banner {
      width: 100%;
      text-align: center;
    }
    .scent-banner-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .scent-banner-heading {
      font-size: 24px;
      line-height: 16px;
    }
    .scent-banner-text {
      font-size: 14px;
      line-height: 20px;
    }
    .slide {
      width: 100%;
      height: auto;
      padding: 0;
    }
    .align-content .quiz-option:nth-child(2n+1) {
      text-align: center;
    }
    .align-content .quiz-option {
      flex: 100%;
      align-self: center;
      text-align: center;
    }
    #progress-bar-container {
      width: 91vw;
      margin-bottom: 40px;
    }
    .question {
      font-size: 18px;
      width: 75%;
      max-width: 100%;
      padding: 0 4px;
    }
    .info-box {
      width: 260px;
      margin-left: auto;
      margin-right: auto;
    }
    .quiz-option {
      margin: 12px 16px;
      scroll-behavior: smooth;
    }
    #prev span,
    #next span {
      display: none;
    }
    .content-container {
      min-height: 100%;
    }
    .main {
      height: 100%;
    }
    .prev {
      position: absolute;
      top: 80%;
      bottom: 20%;
      left: 0px;
      margin: auto;
      transform: translate(0, -50%);
    }
    .next {
      position: absolute;
      top: 80%;
      bottom: 20%;
      right: -18px;
      margin: auto;
      transform: translate(-50%, -50%); 
    }
  }
  
  @media screen and (min-width: 481px) and (max-width: 768px) {
    .grid {
      display: block;
      flex: none;
    }
    .scent-finder-banner {
      width: 100%;
      min-width: 740px;
    }
    .scent-banner-image {
      object-fit: scale-down;
      object-position: center;
      display: block;
    }
    .scent-banner-heading {
      font-size: 24px;
      line-height: 24px;
    }
    .scent-banner-text {
      font-size: 12px;
      line-height: 10px;
    }
    .slider-wrapper {
      width: 740px;
      max-height: 100%;
    }
    #progress-bar-container {
      width: 740px;
    }
    .slide-content {
      flex-flow: column wrap;
    }
    .slide {
      height: auto;
    }
    .slider {
      flex-direction: column;
    }
    .align-content .quiz-option:nth-child(2n+1) {
      text-align: center;
    }
    .align-content .quiz-option {
      flex: 100%;
      align-self: center;
      text-align: center;
    }
    .slide-content {
      height: 71%;
      max-height: 100%;
    }
    .slide {
      max-height: 100vh;
    }
    .question {
      font-size: 20px;
      max-width: 90%;
    }
    #prev span,
    #next span {
      display: none;
    }
    .prev {
      /* top: 40%; */
      left: -16px;
    }
    .next {
      /* top: 40%; */
      right: -16px;
    }
  }
  
  @media screen and (min-width: 769px) and (max-width: 1024px) {
    .scent-finder-banner {
      width: 100%;
    }
    .scent-banner-image {
      object-fit: scale-down;
      object-position: center;
      display: block;
    }
    .slider-wrapper {
      width: 992px;
    }
    #progress-bar-container {
      width: 992px;
    }
    #prev span,
    #next span {
      display: none;
    }
    .prev {
      top: 40%;
      left: -16px;
    }
    .next {
      top: 40%;
      right: -16px;
    }
  }
  
</style>
<div class="main">
  <section>
    <div class="grid" style="--columns:12">
      <div class="col">
        <!-- Banner -->         
        <div class="scent-finder-banner">
          <picture>
            <source srcset="https://media.thewhitecompany.com/i/white/scent-finder-MB" media="(max-width: 480px)"               class="scent-banner-image">
            <source srcset="https://media.thewhitecompany.com/i/white/scent-finder-DT" media="(min-width: 481px)"               class="scent-banner-image">
            <img src="https://media.thewhitecompany.com/i/white/scent-finder-DT"               alt="fragrance finder banner" class="scent-banner-image">           
          </picture>
          <div class="scent-banner-wrapper">
            <h1 class="scent-banner-heading">The Scent Finder</h1>
            <p class="scent-banner-text">Discover the perfect gift (or treat for you)</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="main-section content-container">
    <div class="grid" style="--columns:12">
      <div class="col col--xs-6 col--sm-4 col--md-3">
        <div id="slider" class="slider">
          <div class="slider-wrapper">
            <div class="slider-container slides" id="slides">
              <div class="slide" id="slide-1">
                <h3 class="question">Is this a gift, or for yourself?</h3>
                <div class="info-box">
                  <img src="https://media.thewhitecompany.com/i/white/warning" alt="error icon"                     class="info-icon">                   
                  <p class="error">Please choose an option</p>
                </div>
                <div class="slide-content">
                  <div class="quiz-option"> <span class="question-label">gift</span> <img                       src="https://media.thewhitecompany.com/i/white/1_GIFT" alt="gift" class="slider-image"> </div>
                  <div class="quiz-option"> <span class="question-label">for yourself</span> <img                       src="https://media.thewhitecompany.com/i/white/1_FOR_YOURSELF" alt="for yourself"                       class="slider-image"> </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section class="main-section">
    <div class="grid" style="--columns:12">
      <div class="col">
        <div id="progress-bar-container">
          <div id="progress-bar" data-value="10"></div>
        </div>
      </div>
    </div>
  </section>
</div>
<script>
  var quizObject = {
    question: "Is this a gift, or for yourself?",
    options: [{
      text: 'Gift',
      imageUrl: 'https://media.thewhitecompany.com/i/white/1_GIFT',
      options: {
        question: 'How much do you want to spend?',
        options: [{
          text: 'Under £30',
          imageUrl: 'https://media.thewhitecompany.com/i/white/Under_30',
          additionalQuestion: true,
        }, {
          text: 'Over £30',
          imageUrl: 'https://media.thewhitecompany.com/i/white/Over_30',
          additionalQuestion: true,
        }, {
          text: 'No Preference',
          imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
          additionalQuestion: true,
        }],
        additionalOptions: {
          question: 'Do you want a scent for the home or bath & body?',
          options: [{
            text: 'Home',
            imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_2_HOME',
            options: {
              question: 'Do you want a scent that is…',
              options: [{
                text: 'Soothing',
                imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_3_HOME_soothing',
                options: {
                  question: 'Please choose your preferred fragrance type…',
                  options: [{
                    text: 'Floral',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_SOOTHING_floral',
                    description: 'Explore our lovely light and floral fragrances, which mix sweet fruits and elegant flowery top notes with soft and natural bases.',
                    endOfNode: true,
                  }, {
                    text: 'Herbal',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_SOOTHING_herbal',
                    description: 'Refreshing, relaxing and invigorating, herbal fragrances, whether inspired by a single herb or a combination, are characterised by intense green scents.',
                    endOfNode: true,
                  }, {
                    text: 'Ozonic',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_SOOTHING_ozonic',
                    description: 'Fresh and invigorating with sea-like notes, ozonic fragrances have a young and vibrant feel, combining fruity top notes with an enriching floral heart.',
                    endOfNode: true,
                  }]
                }
              }, {
                text: 'Warming',
                imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_3_HOME_warming',
                options: {
                  question: 'Please choose your preferred fragrance type…',
                  options: [{
                    text: 'Spicy',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_WARMING_spicy',
                    description: 'Warming, sensual and vibrant, spicy scents use cinnamon, cloves and nutmeg with woody notes to create a sense of richness and depth.',
                    endOfNode: true,
                  }, {
                    text: 'Gourmand',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_WARMING_gourmond',
                    description: 'Usually featuring notes such as vanilla, almond, coffee and nutmeg, these fragrances are warm and comforting to create an almost edible quality.',
                    endOfNode: true,
                  }, {
                    text: 'Woody',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_WARMING_woody',
                    description: 'These warm, comforting scents use fragrant woods such as sandalwood, cedar, patchouli and vetivert to create their aromatic and opulent feel.',
                    endOfNode: true,
                  }]
                }
              }, {
                text: 'Uplifting',
                imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_3_HOME_uplifting',
                options: {
                  question: 'Please choose your preferred fragrance type…',
                  options: [{
                    text: 'Citrus',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_UPLIFTING_citrus',
                    description: 'Refreshing, invigorating and energising, these fragrances are light and fresh, and feature citrus top notes of lemon, orange and bergamot.',
                    endOfNode: true,
                  }, {
                    text: 'Fruity',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_UPLIFTING_fruity',
                    description: 'These fragrances have a soft freshness, which creates a youthful and happy feel, with either fruity top notes or a central fruity heart.',
                    endOfNode: true,
                  }, {
                    text: 'Herbal',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_UPLIFTING_herbal',
                    description: 'Refreshing, relaxing and invigorating, herbal fragrances, whether inspired by a single herb or a combination, are characterised by intense green scents.',
                    endOfNode: true,
                  }]
                }
              }, {
                text: 'No Preference',
                imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                options: {
                  question: 'Discover our…',
                  options: [{
                    text: 'Bestsellers',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_NOPREF_bestsellers',
                    options: {
                      question: 'Please choose a bestselling scent…',
                      options: [{
                        text: 'Seychelles',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_HOME_NOPREF_BESTSELLERS_seychelles',
                        endOfNode: true,
                      }, {
                        text: 'Winter',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_HOME_NOPREF_BESTSELLERS_winter',
                        endOfNode: true,
                      }, {
                        text: 'Lime & Bay',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_HOME_NOPREF_BESTSELLERS_limeandbay',
                        endOfNode: true,
                      }]
                    }
                  }, {
                    text: 'Gift Sets',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_NOPREF_giftsets',
                    endOfNode: true,
                  }, {
                    text: 'Gift Cards',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_HOME_NOPREF_giftcards',
                    endOfNode: true,
                  }],
                }
              }]
            }
          }, {
            text: 'Bath & Body',
            imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_2_BODY',
            options: {
              question: 'Discover our…',
              options: [{
                text: 'Perfume',
                imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_3_BODY_perfume',
                options: {
                  question: 'Do you want a scent for her or him?',
                  options: [{
                    text: 'For Her',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_BODY_PERFUME_her',
                    endOfNode: true,
                  }, {
                    text: 'For Him',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_BODY_PERFUME_him',
                    endOfNode: true,
                  }]
                }
              }, {
                text: 'Skincare',
                imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_3_BODY_skincare',
                endOfNode: true,
              }, {
                text: 'Bathing',
                imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_3_BODY_bathing',
                options: {
                  question: 'Do you want a scent that is…',
                  options: [{
                    text: 'Soothing',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_BODY_BATHING_soothing',
                    options: {
                      question: 'Please choose your preferred fragrance type…',
                      options: [{
                        text: 'Floral',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_SOOTHING_floral',
                        description: 'Explore our lovely light and floral fragrances, which mix sweet fruits and elegant flowery top notes with soft and natural bases.',
                        endOfNode: true,
                      }, {
                        text: 'Herbal',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_SOOTHING_herbal',
                        description: 'Refreshing, relaxing and invigorating, herbal fragrances, whether inspired by a single herb or a combination, are characterised by intense green scents.',
                        endOfNode: true,
                      }, {
                        text: 'Ozonic',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_SOOTHING_ozonic',
                        description: 'Fresh and invigorating with sea-like notes, ozonic fragrances have a young and vibrant feel, combining fruity top notes with an enriching floral heart.',
                        endOfNode: true,
                      }]
                    }
                  }, {
                    text: 'Warming',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_BODY_BATHING_warming',
                    options: {
                      question: 'Please choose your preferred fragrance type…',
                      options: [{
                        text: 'Spicy',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_WARMING_spicy',
                        description: 'Warming, sensual and vibrant, spicy scents use cinnamon, cloves and nutmeg with woody notes to create a sense of richness and depth.',
                        endOfNode: true,
                      }, {
                        text: 'Woody',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_WARMING_woody',
                        description: 'These warm, comforting scents use fragrant woods such as sandalwood, cedar, patchouli and vetivert to create their aromatic and opulent feel.',
                        endOfNode: true,
                      }]
                    }
                  }, {
                    text: 'Uplifting',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_BODY_BATHING_uplifiting',
                    options: {
                      question: 'Please choose your preferred fragrance type…',
                      options: [{
                        text: 'Citrus',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_UPLIFTING_citrus',
                        description: 'Refreshing, invigorating and energising, these fragrances are light and fresh, and feature citrus top notes of lemon, orange and bergamot.',
                        endOfNode: true,
                      }, {
                        text: 'Fruity',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_UPLIFTING_fruity',
                        description: 'These fragrances have a soft freshness, which creates a youthful and happy feel, with either fruity top notes or a central fruity heart.',
                        endOfNode: true,
                      }, {
                        text: 'Herbal',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_UPLIFTING_herbal',
                        description: 'Refreshing, relaxing and invigorating, herbal fragrances, whether inspired by a single herb or a combination, are characterised by intense green scents.',
                        endOfNode: true,
                      }]
                    }
                  }, {
                    text: 'No Preference',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                    options: {
                      question: 'Discover our…',
                      options: [{
                        text: 'Bestsellers',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_NOPREF_bestsellers',
                        options: {
                          question: 'Please choose a bestselling scent…',
                          options: [{
                            text: 'Seychelles',
                            imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_6_BODY_BATHING_NOPREF_BESTSELLERS_seychelles',
                            endOfNode: true,
                          }, {
                            text: 'Spa',
                            imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_6_BODY_BATH_NOPREF_BESTSELLERS_spa',
                            endOfNode: true,
                          }, {
                            text: 'Lime & Bay',
                            imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_6_BODY_BATHING_NOPREF_BESTSELLERS_limeandbay',
                            endOfNode: true,
                          }]
                        }
                      }, {
                        text: 'Gift Sets',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_NOPREF_giftsets',
                        endOfNode: true,
                      }, {
                        text: 'Gift Cards',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_NOPREF_giftcard',
                        endOfNode: true,
                      }]
                    }
                  }]
                }
              }]
            }
          }]
        }
      }
    }, {
      text: 'For Yourself',
      imageUrl: 'https://media.thewhitecompany.com/i/white/1_FOR_YOURSELF',
      options: {
        question: 'Do you want a scent for the home or bath & body?',
        options: [{
          text: 'Home',
          imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_1_home',
          options: {
            question: 'Do you want a scent that is…',
            options: [{
              text: 'Warming',
              imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_2_HOME_warming',
              options: {
                question: 'Please choose your preferred fragrance type…',
                options: [{
                  text: 'Spicy',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_HOME_WARMING_spicy',
                  description: 'Warming, sensual and vibrant, spicy scents use cinnamon, cloves and nutmeg with woody notes to create a sense of richness and depth.',
                  additionalQuestion: true,
                }, {
                  text: 'Gourmand',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_BODY_BATH_WARMING_gourmond',
                  description: 'Usually featuring notes such as vanilla, almond, coffee and nutmeg, these fragrances are warm and comforting to create an almost edible quality.',
                  additionalQuestion: true,
                }, {
                  text: 'Woody',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_HOME_WARMING_woody',
                  description: 'These warm, comforting scents use fragrant woods such as sandalwood, cedar, patchouli and vetivert to create their aromatic and opulent feel.',
                  additionalQuestion: true,
                }],
                additionalOptions: {
                  question: 'How much do you want to spend?',
                  options: [{
                    text: 'Under £30',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Under_30',
                    endOfNode: true,
                  }, {
                    text: 'Over £30',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Over_30',
                    endOfNode: true,
                  }, {
                    text: 'No Preference',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                    endOfNode: true,
                  }],
                }
              }
            }, {
              text: 'Soothing',
              imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_2_HOME_soothing',
              options: {
                question: 'Please choose your preferred fragrance type…',
                options: [{
                  text: 'Floral',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_HOME_SOOTHING_floral',
                  description: 'Explore our lovely light and floral fragrances, which mix sweet fruits and elegant flowery top notes with soft and natural bases.',
                  additionalQuestion: true,
                }, {
                  text: 'Herbal',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_HOME_SOOTHING_herbal',
                  description: 'Refreshing, relaxing and invigorating, herbal fragrances, whether inspired by a single herb or a combination, are characterised by intense green scents.',
                  additionalQuestion: true,
                }, {
                  text: 'Ozonic',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_HOME_SOOTHING_ozanic',
                  description: 'Fresh and invigorating with sea-like notes, ozonic fragrances have a young and vibrant feel, combining fruity top notes with an enriching floral heart.',
                  additionalQuestion: true,
                }],
                additionalOptions: {
                  question: 'How much do you want to spend?',
                  options: [{
                    text: 'Under £30',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Under_30',
                    endOfNode: true,
                  }, {
                    text: 'Over £30',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Over_30',
                    endOfNode: true,
                  }, {
                    text: 'No Preference',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                    endOfNode: true,
                  }],
                }
              }
            }, {
              text: 'Uplifting',
              imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_2_HOME_uplifting',
              options: {
                question: 'Please choose your preferred fragrance type…',
                options: [{
                  text: 'Citrus',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_HOME_UPLIFTING_citrus',
                  description: 'Refreshing, invigorating and energising, these fragrances are light and fresh, and feature citrus top notes of lemon, orange and bergamot.',
                  additionalQuestion: true,
                }, {
                  text: 'Fruity',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_HOME_UPLIFTING_fruity',
                  description: 'These fragrances have a soft freshness, which creates a youthful and happy feel, with either fruity top notes or a central fruity heart.',
                  additionalQuestion: true,
                }, {
                  text: 'Herbal',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_HOME_UPLIFTING_herbal',
                  description: 'Refreshing, relaxing and invigorating, herbal fragrances, whether inspired by a single herb or a combination, are characterised by intense green scents.',
                  additionalQuestion: true,
                }],
                additionalOptions: {
                  question: 'How much do you want to spend?',
                  options: [{
                    text: 'Under £30',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Under_30',
                    endOfNode: true,
                  }, {
                    text: 'Over £30',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Over_30',
                    endOfNode: true,
                  }, {
                    text: 'No Preference',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                    endOfNode: true,
                  }],
                }
              }
            }, {
              text: 'No Preference',
              imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
              options: {
                question: 'Discover our…',
                options: [{
                  text: 'Bestsellers',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_HOME_NOPREF_bestsellers',
                  additionalQuestion: false,
                  options: {
                    question: 'Please choose a bestselling scent…',
                    options: [{
                      text: 'Seychelles',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_HOME_NOPREF_BESTSELLERS_seychelles',
                      additionalQuestion: true,
                    }, {
                      text: 'Winter',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_HOME_NOPREF_BESTSELLERS_winter',
                      additionalQuestion: true,
                    }, {
                      text: 'Lime & Bay',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_HOME_NOPREF_BESTSELLERS_limeandbay',
                      additionalQuestion: true,
                    }],
                    additionalOptions: {
                      question: 'How much do you want to spend?',
                      options: [{
                        text: 'Under £30',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Under_30',
                        endOfNode: true,
                      }, {
                        text: 'Over £30',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Over_30',
                        endOfNode: true,
                      }, {
                        text: 'No Preference',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                        endOfNode: true,
                      }],
                    }
                  }
                }, {
                  text: 'Gift Sets',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_HOME_NOPREF_giftsets',
                  additionalQuestion: true,
                }],
                additionalOptions: {
                  question: 'How much do you want to spend?',
                  options: [{
                    text: 'Under £30',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Under_30',
                    endOfNode: true,
                  }, {
                    text: 'Over £30',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Over_30',
                    endOfNode: true,
                  }, {
                    text: 'No Preference',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                    endOfNode: true,
                  }]
                }
              }
            }]
          }
        }, {
          text: 'Bath & Body',
          imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_1_body',
          options: {
            question: 'Discover our…',
            options: [{
              text: 'Perfume',
              imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_2_BODY_perfume',
              options: {
                question: 'Do you want a scent for her or him?',
                options: [{
                  text: 'For Her',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_BODY_PERFUME_her',
                  endOfNode: true,
                }, {
                  text: 'For Him',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_BODY_PERFUME_him',
                  endOfNode: true,
                },{
                    text: 'No Preference',
                    imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                    endOfNode: true,
                }]
              }
            }, {
              text: 'Skincare',
              imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_2_BODY_skincare',
              options: {
                question: 'How much do you want to spend?',
                options: [{
                  text: 'Under £30',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/Under_30',
                  endOfNode: true,
                }, {
                  text: 'Over £30',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/Over_30',
                  endOfNode: true,
                }, {
                  text: 'No Preference',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                  endOfNode: true,
                }]
              }
            }, {
              text: 'Bathing',
              imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_2_BODY_bath',
              options: {
                question: 'Do you want a scent that is…',
                options: [{
                  text: 'Soothing',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_BODY_BATHING_soothing',
                  options: {
                    question: 'Please choose your preferred fragrance type…',
                    options: [{
                      text: 'Floral',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_BODY_BATH_SOOTHING_floral',
                      description: 'Explore our lovely light and floral fragrances, which mix sweet fruits and elegant flowery top notes with soft and natural bases.',
                      additionalQuestion: true,
                    }, {
                      text: 'Herbal',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_BODY_BATH_SOOTHING_herbal',
                      description: 'Refreshing, relaxing and invigorating, herbal fragrances, whether inspired by a single herb or a combination, are characterised by intense green scents.',
                      additionalQuestion: true,
                    }, {
                      text: 'Ozonic',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_BODY_BATH_SOOTHING_ozonic',
                      description: 'Fresh and invigorating with sea-like notes, ozonic fragrances have a young and vibrant feel, combining fruity top notes with an enriching floral heart.',
                      additionalQuestion: true,
                    }],
                    additionalOptions: {
                      question: 'How much do you want to spend?',
                      options: [{
                        text: 'Under £30',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Under_30',
                        endOfNode: true,
                      }, {
                        text: 'Over £30',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Over_30',
                        endOfNode: true,
                      }, {
                        text: 'No Preference',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                        endOfNode: true,
                      }]
                    }
                  }
                }, {
                  text: 'Warming',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_4_BODY_BATHING_warming',
                  options: {
                    question: 'Please choose your preferred fragrance type…',
                    options: [{
                      text: 'Spicy',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_BODY_BATH_WARMING_spicy',
                      description: 'Warming, sensual and vibrant, spicy scents use cinnamon, cloves and nutmeg with woody notes to create a sense of richness and depth.',
                      additionalQuestion: true,
                    }, {
                      text: 'Woody',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_BODY_BATH_WARMING_woody',
                      description: 'These warm, comforting scents use fragrant woods such as sandalwood, cedar, patchouli and vetivert to create their aromatic and opulent feel.',
                      additionalQuestion: true,
                    }],
                    additionalOptions: {
                      question: 'How much do you want to spend?',
                      options: [{
                        text: 'Under £30',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Under_30',
                        endOfNode: true,
                      }, {
                        text: 'Over £30',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Over_30',
                        endOfNode: true,
                      }, {
                        text: 'No Preference',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                        endOfNode: true,
                      }]
                    }
                  }
                }, {
                  text: 'Uplifting',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_3_BODY_BATHING_uplifting',
                  options: {
                    question: 'Please choose your preferred fragrance type…',
                    options: [{
                      text: 'Citrus',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_BODY_BATH_uplifting_citrus',
                      description: 'Refreshing, invigorating and energising, these fragrances are light and fresh, and feature citrus top notes of lemon, orange and bergamot.',
                      additionalQuestion: true,
                    }, {
                      text: 'Fruity',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_BODY_BATH_uplifting_fruity',
                      description: 'These fragrances have a soft freshness, which creates a youthful and happy feel, with either fruity top notes or a central fruity heart.',
                      additionalQuestion: true,
                    }, {
                      text: 'Herbal',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_4_BODY_BATH_uplifting_herbal',
                      description: 'Refreshing, relaxing and invigorating, herbal fragrances, whether inspired by a single herb or a combination, are characterised by intense green scents.',
                      additionalQuestion: true,
                    }],
                    additionalOptions: {
                      question: 'How much do you want to spend?',
                      options: [{
                        text: 'Under £30',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Under_30',
                        endOfNode: true,
                      }, {
                        text: 'Over £30',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Over_30',
                        endOfNode: true,
                      }, {
                        text: 'No Preference',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                        endOfNode: true,
                      }]
                    }
                  }
                }, {
                  text: 'No Preference',
                  imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                  options: {
                    question: 'Discover our…',
                    options: [{
                      text: 'Bestsellers',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_NOPREF_bestsellers',
                      additionalQuestion: false,
                      options: {
                        question: 'Please choose a bestselling scent…',
                        options: [{
                          text: 'Seychelles',
                          imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_5_BODY_BATH_NOPREF_BESTSELLERS_seychelles',
                          endOfNode: true,
                        }, {
                          text: 'Spa',
                          imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_5_BODY_BATH_NOPREF_BESTSELLERS_spa',
                          endOfNode: true,
                        }, {
                          text: 'Lime & Bay',
                          imageUrl: 'https://media.thewhitecompany.com/i/white/FORYOU_5_BODY_BATH_NOPREF_BESTSELLERS_limeandbay',
                          endOfNode: true,
                        }],
                      }
                    }, {
                      text: 'Gift Sets',
                      imageUrl: 'https://media.thewhitecompany.com/i/white/GIFT_5_BODY_BATHING_NOPREF_giftsets',
                      additionalQuestion: true,
                    }],
                    additionalOptions: {
                      question: 'How much do you want to spend?',
                      options: [{
                        text: 'Under £30',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Under_30',
                        endOfNode: true,
                      }, {
                        text: 'Over £30',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Over_30',
                        endOfNode: true,
                      }, {
                        text: 'No Preference',
                        imageUrl: 'https://media.thewhitecompany.com/i/white/Scent-Finder_nopreference',
                        endOfNode: true,
                      }]
                    }
                  }
                }]
              }
            }]
          }
        }]
      }
    }]
  }; 
</script>
<script>
  console.log("martin testing");
  var prevDiv = document.createElement("div");
  prevDiv.classList.add("last");
  prevDiv.innerHTML = '<button class="prev" id="prev" disabled><span>Back</span><img src="https://media.thewhitecompany.com/i/white/arrow-left" alt="previous question" class="move-left"></button>';
  var nextDiv = document.createElement("div");
  nextDiv.classList.add("forward");
  nextDiv.innerHTML = '<button class="next next-disabled" id="next"><span>Next</span> <img src=" https://media.thewhitecompany.com/i/white/arrow-right" alt="next question" class="move-right"></button>'
  if(window.innerWidth < 480){
    document.querySelector("html").insertBefore(prevDiv, document.querySelector("head"));
    document.querySelector("html").insertBefore(nextDiv, document.querySelector("head"));
  }
  else if(window.innerWidth > 480){
    document.querySelector(".slider-wrapper").insertBefore(prevDiv, document.querySelector("#slides"));
    document.querySelector(".slider-wrapper").insertBefore(nextDiv, document.querySelector("#slides"));
  }
var urlList = {
  options: [{
    keywords: ['For Her'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/Bath-and-Body-/c/perfume'
  }, {
    keywords: ['For Him'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Loch-Eau-De-Toilette/p/LODED?swatch=No+Colour'
  }, {
    keywords: ['Skincare', 'Under £30'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/skincare?q=%3Arelevance&minPrice=10&maxPrice=30&minPriceRange=10&maxPriceRange=40'
  }, {
    keywords: ['Skincare', 'Under £50'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/skincare'
  }, {
    keywords: ['Body', 'Soothing', 'Under £30', 'Floral'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_floral&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Soothing', 'Under £30', 'Herbal'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_herbal&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Soothing', 'Under £30', 'Ozonic'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_ozonic&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Soothing', 'Under £50', 'Floral'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_floral&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Soothing', 'Under £50', 'Herbal'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_herbal&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Soothing', 'Under £50', 'Ozonic'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_ozonic&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Soothing', 'Over £50', 'Floral'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_floral&minPrice=50&maxPrice=70&minPriceRange=10&maxPriceRange=70'
  }, {
    keywords: ['Body', 'Soothing', 'Over £50', 'Ozonic'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_ozonic&minPrice=50&maxPrice=70&minPriceRange=10&maxPriceRange=70'
  }, {
    keywords: ['Body', 'Warming', 'Under £30', 'Spicy'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_spicy&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=60'
  }, {
    keywords: ['Body', 'Warming', 'Under £50', 'Spicy'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Loch-Collection/p/loch-collection'
  }, {
    keywords: ['Body', 'Warming', 'Under £50', 'Woody'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_woody&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=60'
  }, {
    keywords: ['Body', 'Warming', 'Over £50', 'Woody'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_woody&minPrice=50&maxPrice=120&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Uplifting', 'Under £30', 'Citrus'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_citrus&minPrice=10&maxPrice=30&minPriceRange=10&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Uplifting', 'Under £30', 'Fruity'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_fruity&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Uplifting', 'Under £30', 'Herbal'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_herbal&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Uplifting', 'Under £50', 'Citrus'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_citrus&minPrice=10&maxPrice=50&minPriceRange=10&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Uplifting', 'Under £50', 'Fruity'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_fruity&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Uplifting', 'Under £50', 'Herbal'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_herbal&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Uplifting', 'Over £50', 'Citrus'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_citrus&minPrice=50&maxPrice=120&minPriceRange=10&maxPriceRange=120'
  }, {
    keywords: ['Body', 'Uplifting', 'Over £50', 'Herbal'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_herbal&minPrice=50&maxPrice=120&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Body', 'No Preference', 'Bestsellers', 'Seychelles'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance-sm%3Aav_seychelles'
  }, {
    keywords: ['Body', 'No Preference', 'Bestsellers', 'Spa'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance-sm%3Aav_escape%3Af_fragrance-sm%3Aav_spa_restore%3Af_fragrance-sm%3Aav_spa_retreat'
  }, {
    keywords: ['Body', 'No Preference', 'Bestsellers', 'Lime & Bay'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Beauty-and-Spa/c/bath-and-body?q=%3Arelevance%3Af_fragrance-sm%3Aav_lime_and_bay'
  }, {
    keywords: ['Body', 'No Preference', 'Under £30', 'Gift Sets'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/Gift-Sets/c/bath-and-body-gift-sets?q=%3Arelevance&minPrice=20&maxPrice=30&minPriceRange=20&maxPriceRange=110'
  }, {
    keywords: ['Body', 'No Preference', 'Under £50', 'Gift Sets'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/Gift-Sets/c/bath-and-body-gift-sets?q=%3Arelevance&minPrice=20&maxPrice=50&minPriceRange=20&maxPriceRange=110'
  }, {
    keywords: ['Body', 'No Preference', 'Over £50', 'Gift Sets'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/Gift-Sets/c/bath-and-body-gift-sets?q=%3Arelevance&minPrice=50&maxPrice=110&minPriceRange=20&maxPriceRange=110'
  }, {
    keywords: ['No Preference', 'Gift Cards'],
    plpUrl: 'https://www.thewhitecompany.com/uk/giftcards'
  }, {
    keywords: ['Home', 'Soothing', 'Under £30', 'Floral'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_floral&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Soothing', 'Under £30', 'Herbal'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_herbal&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Soothing', 'Under £30', 'Ozonic'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_ozonic&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Soothing', 'Under £50', 'Floral'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_floral&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Soothing', 'Under £50', 'Herbal'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_herbal&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Soothing', 'Under £50', 'Ozonic'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_ozonic&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Soothing', 'Over £50', 'Floral'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_floral&minPrice=50&maxPrice=120&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Soothing', 'Over £50', 'Herbal'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_herbal&minPrice=50&maxPrice=120&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Soothing', 'Over £50', 'Ozonic'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_ozonic&minPrice=50&maxPrice=120&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Warming', 'Under £30', 'Gourmand'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_gourmand&minPrice=10&maxPrice=30&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'Warming', 'Under £30', 'Spicy'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_spicy&minPrice=10&maxPrice=30&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'Warming', 'Under £30', 'Woody'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_woody&minPrice=10&maxPrice=30&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'Warming', 'Under £50', 'Gourmand'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_gourmand&minPrice=10&maxPrice=50&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'Warming', 'Under £50', 'Spicy'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_spicy&minPrice=10&maxPrice=50&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'Warming', 'Under £50', 'Woody'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_woody&minPrice=10&maxPrice=50&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'Uplifting', 'Under £30', 'Citrus'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_citrus&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Uplifting', 'Under £30', 'Fruity'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_fruity&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Uplifting', 'Under £30', 'Herbal'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_herbal&minPrice=0&maxPrice=30&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Uplifting', 'Under £50', 'Citrus'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_citrus&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Uplifting', 'Under £50', 'Fruity'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_fruity&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Uplifting', 'Under £50', 'Herbal'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_herbal&minPrice=0&maxPrice=50&minPriceRange=0&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Uplifting', 'Over £50', 'Citrus'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_citrus&minPrice=50&maxPrice=120&minPriceRange=10&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Uplifting', 'Over £50', 'Fruity'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_fruity&minPrice=50&maxPrice=120&minPriceRange=10&maxPriceRange=120'
  }, {
    keywords: ['Home', 'Uplifting', 'Over £50', 'Herbal'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance_families-sm%3Aav_herbal&minPrice=50&maxPrice=120&minPriceRange=10&maxPriceRange=120'
  }, {
    keywords: ['Home', 'No Preference', 'Under £30', 'Bestsellers', 'Seychelles'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance-sm%3Aav_seychelles&minPrice=10&maxPrice=30&minPriceRange=10&maxPriceRange=140'
  }, {
    keywords: ['Home', 'No Preference', 'Under £50', 'Bestsellers', 'Seychelles'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance-sm%3Aav_seychelles&minPrice=10&maxPrice=50&minPriceRange=10&maxPriceRange=140'
  }, {
    keywords: ['Home', 'No Preference', 'Over £50', 'Bestsellers', 'Seychelles'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance-sm%3Aav_seychelles&minPrice=50&maxPrice=140&minPriceRange=10&maxPriceRange=140'
  }, {
    keywords: ['Home', 'No Preference', 'Under £30', 'Bestsellers', 'Winter'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance-sm%3Aav_winter&minPrice=10&maxPrice=30&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'No Preference', 'Under £50', 'Bestsellers', 'Winter'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance-sm%3Aav_winter&minPrice=10&maxPrice=50&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'No Preference', 'Over £50', 'Bestsellers', 'Winter'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance-sm%3Aav_winter&minPrice=50&maxPrice=60&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'No Preference', 'Under £30', 'Bestsellers', 'Lime & Bay'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance-sm%3Aav_lime_and_bay&minPrice=10&maxPrice=30&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'No Preference', 'Under £50', 'Bestsellers', 'Lime & Bay'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance-sm%3Aav_lime_and_bay&minPrice=10&maxPrice=50&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'No Preference', 'Over £50', 'Bestsellers', 'Lime & Bay'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/c/home-fragrances?q=%3Arelevance%3Af_fragrance-sm%3Aav_lime_and_bay&minPrice=50&maxPrice=60&minPriceRange=10&maxPriceRange=60'
  }, {
    keywords: ['Home', 'No Preference', 'Gift Sets', 'Over £50'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/Gift-Sets/c/home-fragrance-gift-sets?q=%3Arelevance&minPrice=50&maxPrice=190',
  }, {
    keywords: ['Home', 'No Preference', 'Gift Sets', 'Under £30'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/Gift-Sets/c/home-fragrance-gift-sets?q=%3Arelevance&minPrice=20&maxPrice=30&minPriceRange=20&maxPriceRange=190',
  }, {
    keywords: ['Home', 'No Preference', 'Gift Sets', 'Under £50'],
    plpUrl: 'https://www.thewhitecompany.com/uk/Candles-and-Fragrance/View-All-Candles-and-Fragrance/Gift-Sets/c/home-fragrance-gift-sets?q=%3Arelevance&minPrice=20&maxPrice=50&minPriceRange=20&maxPriceRange=190',
  }]
};
const priceExclusionList = {
  options: [{
    keywords: ['for yourself', 'Body', 'Skincare'],
    optionToExclude: 'Over £50',
  }, {
    keywords: ['gift', 'Over £50', 'Home'],
    optionToExclude: 'Warming',
  }, {
    keywords: ['gift', 'Under £30', 'Body', 'Warming'],
    optionToExclude: 'Woody',
  }, {
    keywords: ['gift', 'Over £50', 'Body', 'Bathing', 'Uplifting'],
    optionToExclude: ['Citrus', 'Fruity'],
  }, {
    keywords: ['gift', 'Over £50', 'Body', 'Bathing', 'Warming'],
    optionToExclude: 'Spicy',
  }, {
    keywords: ['gift', 'Over £50', 'Body', 'Bathing', 'No Preference'],
    optionToExclude: 'Bestsellers',
  }, {
    keywords: ['Body', 'Bathing', 'Soothing', 'Herbal'],
    optionToExclude: 'Over £50',
  }, {
    keywords: ['gift', 'Over £50', 'Body', 'Bathing'],
    optionToExclude: 'Soothing',
  }, {
    keywords: ['Body', 'Bathing', 'Warming', 'Spicy'],
    optionToExclude: 'Over £50',
  }, {
    keywords: ['Body', 'Bathing', 'Warming', 'Woody'],
    optionToExclude: 'Under £30',
  }, {
    keywords: ['gift', 'Over £50', 'Body'],
    optionToExclude: ['Skincare', 'Perfume'],
  }, {
    keywords: ['for yourself', 'Body', 'Bathing', 'Soothing', 'Floral'],
    optionToExclude: 'Over £50',
  }, {
    keywords: ['for yourself', 'Home', 'Warming', 'Spicy'],
    optionToExclude: 'Over £50',
  }, {
    keywords: ['for yourself', 'Home', 'Warming', 'Woody'],
    optionToExclude: 'Over £50',
  }, {
    keywords: ['for yourself', 'Home', 'Warming', 'Gourmand'],
    optionToExclude: 'Over £50',
  }, {
    keywords: ['Body', 'Bathing', 'Uplifting', 'Fruity'],
    optionToExclude: 'Over £50',
  }, {
    keywords: ['for yourself', 'Body', 'Bathing', 'Uplifting', 'Citrus'],
    optionToExclude: 'Over £50',
  }, {
    keywords: ['for yourself', 'Body', 'Bathing', 'No Preference', 'Bestsellers', 'Spa'],
    optionToExclude: ['Under £50', 'Over £50'],
  }]
};
const backButton = document.getElementById('prev');
const nextButton = document.getElementById('next');
var errorElement = document.querySelector('.info-box');
var isCurrentQuestionAnswered = false;
var currentlySelectedAnswer;
var selectedAnswerArray = [];
var currentOptions = quizObject.options;
var currentSlideNumber = 1;
var quizOptions;
var slideIdPartial = '#slide-';
var endOfTree = false;
var currentArraysDepth = -1;
var currentlyActiveSlide = 0;
var slides;
var optionToHide = '';
var nextArrow = document.getElementById("next");
var prevArrow = document.getElementById("prev");
var slideIsVisible = true;
backButton.addEventListener('click', previousQuestion);
nextButton.addEventListener('click', nextQuestion);
addEventListenersToOptions();

function addEventListenersToOptions() {
  quizOptions = document.querySelectorAll('.quiz-option');
  quizOptions.forEach(element => {
    element.addEventListener('click', addAnswer);
  });
}

function checkIfAnAnswerIsSelected() {
  console.log("checkIfAnAnswerIsSelected function");
  var quizOptionImages = document.querySelectorAll(`#slide-${currentSlideNumber} > .slide-content > .quiz-option > img`);
  for(let i = 0; i < quizOptionImages.length; i++){
    if(quizOptionImages[i].classList.contains("selected")){
      isCurrentQuestionAnswered = true;
      break;
    }
    else if(!quizOptionImages[i].classList.contains("selected")){
      isCurrentQuestionAnswered = false;
    }
  }
}

function getDepthOfDtree() {
  console.log("getDepthOfDtree function");
  currentArraysDepth = 0;
  const assignDepth = (selectedArray, depth = 0, index = 0) => {
    if (depth > 2) return;
    if (selectedArray[index] && index < selectedArray[index]?.options?.options?.length) {
      currentArraysDepth = depth + 1;
      return assignDepth(selectedArray[index]?.options, depth + 1, 0);
    }
    if (index < selectedArray?.options?.length) {
      currentArraysDepth = depth;
      if (selectedArray.options[index]?.additionalQuestion) {
        return assignDepth(selectedArray.additionalOptions, depth + 1, 0);
      }
      if (selectedArray.options[index]?.options?.options?.length) {
        return assignDepth(selectedArray.options[index]?.options, depth + 1, 0);
      }
      return assignDepth(selectedArray, depth, index + 1);
    }
    return;
  };
  if (optionToHide) {
    const excludeArrayItem = optionToHide.optionToExclude;
    let newSelectedArray = currentOptions;
    if (Array.isArray(optionToHide.optionToExclude)) {
      optionToHide?.optionToExclude.forEach(item => {
        newSelectedArray = newSelectedArray?.options ? newSelectedArray?.options?.filter(element => element.text.toLowerCase() !== item.toLowerCase()) : newSelectedArray.filter(element => element.text.toLowerCase() !== item.toLowerCase());
      });
      assignDepth(newSelectedArray);
    } else {
      newSelectedArray = currentOptions?.options?.filter(element => element.text.toLowerCase() !== excludeArrayItem.toLowerCase());
      assignDepth(newSelectedArray);
    }
  } else {
    assignDepth(currentOptions);
  }
}

function updateProgressBar(increment, finalStep = false) {
  const progressBar = document.querySelector('#progress-bar');
  if (finalStep) {
    progressBar.dataset.value = progressBar.max;
    progressBar.style.width = '100%';
    progressBar.style.opacity = 1;
    progressBar.style.transition = "0.2s ease 0.01s";
  } else if (currentArraysDepth !== -1 && currentArraysDepth === 0) {
    progressBar.dataset.value = 80;
    progressBar.style.width = '90%';
    progressBar.style.opacity = 1;
  } else {
    const updatedValue = parseInt(progressBar.getAttribute('data-value')) + increment;
    progressBar.dataset.value = updatedValue;
    progressBar.style.width = updatedValue + '%';
    progressBar.style.opacity = 1;
    const nextButton = document.querySelector('.next');
    const prevButton = document.querySelector('.prev');
    if (updatedValue === progressBar.max) {
      nextButton.disabled = true;
    }
  }
  return true;
}

function populateNextSlide(newOptions) {
  console.log("populateNextSlide function");
  optionToHide = '';
  currentSlideNumber += 1;
  currentOptions = newOptions.options || newOptions;
  const updatedQuestion = newOptions.options?.question || newOptions.question;
  const updatedAnswers = newOptions.options?.options || newOptions.options;
  const newSlideDiv = document.createElement('div');
  newSlideDiv.classList.add("slide");
  newSlideDiv.setAttribute('id', 'slide-' + currentSlideNumber);
  const questionTag = document.createElement('h3');
  questionTag.classList.add("question");
  questionTag.innerHTML = updatedQuestion;
  newSlideDiv.appendChild(questionTag);
  const imageContainer = document.createElement('div');
  imageContainer.classList.add("slide-content");
  updatedAnswers.forEach(element => {
    optionToHide = priceExclusionList.options.find(entry => {
      const keywords = entry.keywords;
      const searchResult = matchKeywords(selectedAnswerArray, keywords);
      if (searchResult) {
        return entry.optionToExclude;
      }
    }) || null;
    if (optionToHide) {
      if ((Array.isArray(optionToHide.optionToExclude) && optionToHide.optionToExclude.includes(element.text)) || (!Array.isArray(optionToHide.optionToExclude) && element.text.toLowerCase() === optionToHide?.optionToExclude.toLowerCase())) {
        return;
      }
    }
    if (updatedAnswers.length > 3 && !optionToHide) {
      imageContainer.classList.add("align-content");
    }
    const optionContainer = document.createElement('div');
    const imageTag = document.createElement('img');
    const spanTag = document.createElement('span');
    optionContainer.classList.add("quiz-option");
    spanTag.classList.add("question-label");
    spanTag.innerHTML = element.text;
    optionContainer.appendChild(spanTag);
    imageTag.src = element.imageUrl;
    imageTag.classList.add("slider-image");
    imageTag.setAttribute('alt', element.text);
    optionContainer.appendChild(imageTag);
    if (element?.description) {
      const descTag = document.createElement('p');
      descTag.classList.add('description');
      descTag.innerHTML = element?.description;
      optionContainer.appendChild(descTag);
    }
    imageContainer.appendChild(optionContainer);
    newSlideDiv.appendChild(imageContainer);
  });
  const infoBoxContainer = document.createElement('div');
  infoBoxContainer.classList.add("info-box");
  const infoIconTag = document.createElement('img');
  infoIconTag.classList.add("info-icon");
  infoIconTag.src = "https://media.thewhitecompany.com/i/white/warning";
  infoIconTag.setAttribute('alt', 'error icon');
  infoBoxContainer.appendChild(infoIconTag);
  const errorTag = document.createElement('p');
  errorTag.classList.add("error");
  errorTag.innerHTML = 'Please choose an option';
  infoBoxContainer.appendChild(errorTag);
  newSlideDiv.insertBefore(infoBoxContainer, imageContainer);
  const getSlideContainer = document.querySelector('.slider-container');
  getSlideContainer.appendChild(newSlideDiv);
  isCurrentQuestionAnswered = false;
  document.querySelector('#next').classList.add("next-disabled");
}

function getNextSlideInfo() {
  console.log("getNextSlideInfo function");
  let updatedOptions;
  if (!currentOptions?.additionalOptions) {
    if (!currentOptions?.options) {
      currentOptions?.forEach(item => {
        if (item.text.toLowerCase() === currentlySelectedAnswer.toLowerCase()) {
          updatedOptions = item;
        }
      });
    } else {
      currentOptions.options.forEach(item => {
        if (item.text.toLowerCase() === currentlySelectedAnswer.toLowerCase()) {
          updatedOptions = item;
        }
      });
    }
  } else {
    if (currentOptions?.options) {
      currentOptions?.options?.forEach(item => {
        if ((item.text.toLowerCase() === currentlySelectedAnswer.toLowerCase()) && !(item?.additionalQuestion)) {
          updatedOptions = item;
        }
      });
    }
    if (!updatedOptions) {
      updatedOptions = currentOptions.additionalOptions;
    }
  }
  const selectedSlideId = slideIdPartial + currentSlideNumber;
  hideCurrentSlide(selectedSlideId);
  populateNextSlide(updatedOptions);
  const topElement = document.querySelector('.main');
  topElement.scrollIntoView(true);
}

function hideCurrentSlide(slideName) {
  const slideContentDiv = document.querySelector(slideName);
  slideContentDiv.classList.add('hide');
}

function showCurrentSlide(slideName) {
  const slideContentDiv = document.querySelector(slideName);
  slideContentDiv.classList.remove('hide');
}

function matchKeywords(userSelected, urlArray) {
  console.log("matchKeywords function");
  return urlArray.every(word => userSelected.includes(word));
}

function nextQuestion() {
  console.log("nextQuestion function");
  checkIfAnAnswerIsSelected();
  if (isCurrentQuestionAnswered) {
    selectedAnswerArray.push(currentlySelectedAnswer);
    const retrieveOptions = currentOptions?.options || currentOptions;
    const selectedAnswerObj = retrieveOptions?.find(entry => entry.text.toLowerCase().replace('&amp;', "&") === currentlySelectedAnswer.toLowerCase().replace('&amp;', "&"));
    if (selectedAnswerObj?.endOfNode) {
      console.log("inside endOfNode");
      const progress = updateProgressBar(12, true);
      urlList.options.forEach(entry => {
        const keywords = entry.keywords;
        const testResult = matchKeywords(selectedAnswerArray, keywords);
        console.log(selectedAnswerArray);
        console.log(testResult);
        if (testResult) {
          window.location.href = entry.plpUrl;
        }
      });
    } else {
      const selectedSlideId = slideIdPartial + (currentSlideNumber + 1);
      const isNextSlideExist = document.querySelector(selectedSlideId);
      if (!isNextSlideExist) {
        getNextSlideInfo();
        addEventListenersToOptions();
      } else {
        hideCurrentSlide(slideIdPartial + currentSlideNumber);
        currentSlideNumber += 1;
        showCurrentSlide(selectedSlideId);
        document.querySelector('#next').classList.add("next-disabled");
      }
      getDepthOfDtree();
      updateProgressBar(12, false);
      enableBackButton();
    }
  } else {
    displayError();
    isCurrentQuestionAnswered = false;
  }
}

function previousQuestion() {
  const activeSlideId = slideIdPartial + currentSlideNumber;
  hideCurrentSlide(activeSlideId);
  currentSlideNumber -= 1;
  const newActiveSlideId = slideIdPartial + currentSlideNumber;
  showCurrentSlide(newActiveSlideId);
  isCurrentQuestionAnswered = true;
  currentArraysDepth = -1;
  updateProgressBar(-12, false);
  if (currentSlideNumber === 1) {
    disableBackButton();
  }
  if (isCurrentQuestionAnswered == true) {
    enableNextButton();
  }
}

function addAnswer(event) {
  const activeSlideId = slideIdPartial + currentSlideNumber;
  const activeSlide = document.querySelector(activeSlideId);
  quizOptions = activeSlide.querySelectorAll('.quiz-option');
  quizOptions.forEach(element => {
    const currentClassList = element.querySelector('.slider-image').classList;
    const alreadySelected = currentClassList.contains('selected');
    if (alreadySelected) {
      currentClassList.remove('selected');
    }
  });
  currentlySelectedAnswer = event.target.closest('.quiz-option').querySelector('.question-label').innerHTML?.replace("&amp;", "&");
  if (event.target.classList.contains('question-label')) {
    event.target.nextElementSibling.classList.add('selected');
  } else {
    event.target.classList.add('selected');
  }
  isCurrentQuestionAnswered = true;
  removeError();
  enableNextButton();
  removeSubsequentSlides();
}

function removeSubsequentSlides() {
  console.log("removeSubsequentSlides function");
  const nextSlideId = slideIdPartial + (currentSlideNumber + 1);
  const nextSlideNode = document.querySelector(nextSlideId);
  if (nextSlideNode) {
    const listOfSlides = Array.from(document.querySelectorAll('.slide'));
    const listOfNodesToDelete = listOfSlides.filter(element => element.id.match(/\d+/)[0] > currentSlideNumber);
    listOfNodesToDelete.forEach(element => {
      element.remove();
    });
    const slicedArray = selectedAnswerArray.slice(0, currentSlideNumber - 1);
    selectedAnswerArray = slicedArray;
    const nestingKey = 'options';
    const searchText = currentlySelectedAnswer;
    const findNewCurrentOptions = (orginalArray, textValue, key, parent = []) => (orginalArray.reduce((lastItem, item) => {
      if (lastItem) return lastItem;
      if (item.text.toLowerCase() === textValue.toLowerCase()) return parent;
      if (item.additionalQuestion) return findNewCurrentOptions(parent.additionalOptions?.options, textValue, key, parent.additionalOptions);
      if (item?.options) return findNewCurrentOptions(item?.options.options, textValue, key, item?.options);
      if (parent?.options?.options) return findNewCurrentOptions(parent.options?.options, textValue, key, parent.options);
    }, null));
    let selectedPath;
    quizObject.options.forEach(subArray => {
      const rootSelection = selectedAnswerArray[0];
      if (rootSelection) {
        if (subArray.text.toLowerCase() === rootSelection.toLowerCase()) {
          selectedPath = subArray;
        }
      }
    });
    if (selectedPath?.options?.options) {
      currentOptions = findNewCurrentOptions(selectedPath.options.options, searchText, nestingKey, selectedPath.options);
      if (currentOptions) return;
    } else if (selectedPath?.additionalOptions?.options) {
      currentOptions = findNewCurrentOptions(selectedPath?.additionalOptions?.options, searchText, nestingKey, selectedPath?.additionalOptions);
      if (currentOptions) return;
    } else {
      currentOptions = quizObject.options;
    }
  }
}

function displayError() {
  const activeSlideId = slideIdPartial + currentSlideNumber;
  const activeSlide = document.querySelector(activeSlideId);
  errorElement = activeSlide.querySelector('.info-box');
  errorElement.style.visibility = "visible";
  if(window.innerWidth > 321){
    errorElement.style.margin = "20px auto";
  }
  else if(window.innerWidth < 321){
    errorElement.style.margin = "25px auto 20px";
  }
}

function removeError() {
  const activeSlideId = slideIdPartial + currentSlideNumber;
  const activeSlide = document.querySelector(activeSlideId);
  errorElement = activeSlide.querySelector('.info-box');
  errorElement.style.margin = "0";
  errorElement.style.visibility = "hidden";
}

function enableBackButton() {
  document.querySelector('#prev').disabled = false;
}

function disableBackButton() {
  document.querySelector('#prev').disabled = true;
}

function enableNextButton() {
  document.querySelector('#next').classList.remove("next-disabled");
}

window.addEventListener("scroll", () => {
  var blackFridayBanner = document.querySelector('#cc-ctn').getBoundingClientRect().bottom;
  var scentFinderBanner = document.querySelector('body > div.main > section:nth-child(1)').getBoundingClientRect().bottom;

  if(blackFridayBanner > scentFinderBanner){
    document.querySelector(".last").style.position = "sticky";
    document.querySelector(".last").style.top = "50%";
    document.querySelector(".forward").style.position = "sticky";
    document.querySelector(".forward").style.top = "50%";
  }
  else if(blackFridayBanner < scentFinderBanner){
    document.querySelector(".last").style.position = "unset";
    document.querySelector(".last").style.top = "unset";
    document.querySelector(".forward").style.position = "unset";
    document.querySelector(".forward").style.top = "unset";
  }

  var hidingPoint = document.querySelector(".slider-wrapper").getBoundingClientRect().height * 0.25;
  var bottomOfQuiz = document.querySelector(".slider-wrapper").getBoundingClientRect().bottom;
  var hidingPointForButtons = bottomOfQuiz - hidingPoint;

  if (blackFridayBanner > hidingPointForButtons) {
    prevArrow.style.opacity = 0;
    prevArrow.style.transition = "0.2s ease 0.01s";
    nextArrow.style.opacity = 0;
    nextArrow.style.transition = "0.2s ease 0.01s";
  } else if (blackFridayBanner < hidingPointForButtons) {
    prevArrow.style.opacity = 1;
    prevArrow.style.transition = "0.2s ease 0.01s";
    nextArrow.style.opacity = 1;
    nextArrow.style.transition = "0.2s ease 0.01s";
  }
});
</script>
</body>
</html>

<!-- <div class="last"><button class="prev" id="prev" disabled><span>Back</span><img src="https://media.thewhitecompany.com/i/white/arrow-left" alt="previous question" class="move-left"></button></div>
<div class="forward"><button class="next next-disabled" id="next"><span>Next</span> <img src=" https://media.thewhitecompany.com/i/white/arrow-right" alt="next question" class="move-right"></button></div> -->
